{"version":3,"sources":["components/ListOfComments/ListOfComments.tsx","components/PostList.tsx","helpers/api.ts","App.tsx","index.tsx"],"names":["ListOfComments","comments","className","length","map","comment","key","id","name","body","href","email","PostList","posts","post","title","user","getInfoFromServer","url","fetch","then","response","json","App","useState","setPosts","loading","setLoading","inputValue","steInputValue","handleLoadClick","a","commentsFromServer","usersFromServer","postsFromServer","postsWithUsersAndComments","find","userId","filter","postId","foundPosts","useMemo","searchQuery","toLowerCase","includes","type","value","onChange","event","target","onClick","disabled","ReactDOM","render","document","getElementById"],"mappings":"iUA2BeA,G,kBApByB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACzC,OACE,wBAAIC,UAAU,iBACXD,EAASE,OAAS,GAAKF,EAASG,KAAI,SAAAC,GAAO,OAC1C,wBAAIC,IAAKD,EAAQE,GAAIL,UAAU,iBAC7B,uBAAGA,UAAU,iBACVG,EAAQG,MAEX,uBAAGN,UAAU,iBACVG,EAAQI,MAEX,uBAAGC,KAAI,iBAAYL,EAAQM,OAAST,UAAU,kBAC3CG,EAAQM,cCcNC,EAzBmB,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACnC,OACE,wBAAIX,UAAU,cACXW,EAAMT,KAAI,SAAAU,GAAI,OACb,wBAAIR,IAAKQ,EAAKP,GAAIL,UAAU,cAC1B,yBAAKA,UAAU,eAAf,SAEG,IACAY,EAAKC,OAER,uBAAGb,UAAU,gBAAb,UAEG,IACAY,EAAKE,KAAOF,EAAKE,KAAKR,KAAO,IAEhC,uBAAGN,UAAU,cACVY,EAAKL,MAER,kBAAC,EAAD,CAAgBR,SAAUa,EAAKb,SAAWa,EAAKb,SAAW,WCvB9DgB,EAAoB,SAAIC,GAC5B,OAAOC,MAHO,iEAGSD,GACpBE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,WC4DhBC,EA3DH,WAAO,IAAD,EACUC,mBAAiB,IAD3B,mBACTX,EADS,KACFY,EADE,OAEcD,oBAAkB,GAFhC,mBAETE,EAFS,KAEAC,EAFA,OAGoBH,mBAAiB,IAHrC,mBAGTI,EAHS,KAGGC,EAHH,KAKVC,EAAe,uCAAG,kCAAAC,EAAA,6DACtBJ,GAAW,GADW,SDFOV,EAA2B,kBCElC,cAGhBe,EAHgB,gBDDIf,EAAwB,eCC5B,cAIhBgB,EAJgB,gBDHIhB,EAAwB,eCG5B,OAKhBiB,EALgB,OAOhBC,EAA4BD,EAAgB9B,KAAI,SAAAU,GAAI,kCACrDA,GADqD,IAExDE,KAAMiB,EAAgBG,MAAK,SAAApB,GAAI,OAAIA,EAAKT,KAAOO,EAAKuB,UACpDpC,SAAU+B,EAAmBM,QAAO,SAAAjC,GAAO,OAAIS,EAAKP,KAAOF,EAAQkC,eAGrEd,EAASU,GAba,4CAAH,qDAiBfK,EAAaC,mBAAQ,kBAAM,SAACC,GAChC,OAAO7B,EAAMyB,QAAO,SAACxB,GAGnB,MAFe,UAAIA,EAAKC,MAAT,YAAkBD,EAAKL,MAAQkC,cAEhCC,SAASF,SAExB,CAAC7B,EAAOe,IAEX,OACE,yBAAK1B,UAAU,WACb,wBAAIA,UAAU,SAAd,yBAECW,EAAMV,OAAS,EACd,yBAAKD,UAAU,WACb,2BACE2C,KAAK,OACL3C,UAAU,QACV4C,MAAOlB,EACPmB,SAAU,SAAAC,GAAK,OAAInB,EAAcmB,EAAMC,OAAOH,MAAMH,kBAGtD,kBAAC,EAAD,CAAU9B,MAAO2B,EAAWZ,MAG9B,4BACEiB,KAAK,SACL3C,UAAU,kBACVgD,QAASpB,EACTqB,SAAUzB,GAETA,EAAU,aAAe,gBCrDpC0B,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.2823ac94.chunk.js","sourcesContent":["import React from 'react';\nimport './ListOfComments.css';\n\ntype Props = {\n  comments: Comment[];\n};\n\nconst ListOfComments: React.FC<Props> = ({ comments }) => {\n  return (\n    <ul className=\"comment__list\">\n      {comments.length > 0 && comments.map(comment => (\n        <li key={comment.id} className=\"comment__item\">\n          <p className=\"comment__name\">\n            {comment.name}\n          </p>\n          <p className=\"comment__body\">\n            {comment.body}\n          </p>\n          <a href={`mailto:${comment.email}`} className=\"comment__email\">\n            {comment.email}\n          </a>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default ListOfComments;\n","import React from 'react';\nimport './PostList.css';\nimport ListOfComments from './ListOfComments/ListOfComments';\n\ntype Props = {\n  posts: Post[];\n};\n\nconst PostList: React.FC<Props> = ({ posts }) => {\n  return (\n    <ul className=\"post__list\">\n      {posts.map(post => (\n        <li key={post.id} className=\"post__item\">\n          <div className=\"post__title\">\n            Title:\n            {' '}\n            {post.title}\n          </div>\n          <p className=\"post__author\">\n            Author:\n            {' '}\n            {post.user ? post.user.name : ''}\n          </p>\n          <p className=\"post__body\">\n            {post.body}\n          </p>\n          <ListOfComments comments={post.comments ? post.comments : []} />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default PostList;\n","\nconst API_URL = 'https://mate-academy.github.io/react_dynamic-list-of-posts/api';\n\nconst getInfoFromServer = <T>(url: string): Promise<T[]> => {\n  return fetch(API_URL + url)\n    .then(response => response.json());\n};\n\nexport const getPosts = () => getInfoFromServer<Post>('/posts.json');\nexport const getComments = () => getInfoFromServer<Comment>('/comments.json');\nexport const getUsers = () => getInfoFromServer<User>('/users.json');\n","import React, { useMemo, useState } from 'react';\nimport './App.css';\nimport PostList from './components/PostList';\n\nimport { getComments, getPosts, getUsers } from './helpers/api';\n\nconst App = () => {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [inputValue, steInputValue] = useState<string>('');\n\n  const handleLoadClick = async () => {\n    setLoading(true);\n\n    const commentsFromServer = await getComments();\n    const usersFromServer = await getUsers();\n    const postsFromServer = await getPosts();\n\n    const postsWithUsersAndComments = postsFromServer.map(post => ({\n      ...post,\n      user: usersFromServer.find(user => user.id === post.userId),\n      comments: commentsFromServer.filter(comment => post.id === comment.postId),\n    }));\n\n    setPosts(postsWithUsersAndComments);\n  };\n\n\n  const foundPosts = useMemo(() => (searchQuery: string): Post[] => {\n    return posts.filter((post) => {\n      const string = (`${post.title} ${post.body}`).toLowerCase();\n\n      return string.includes(searchQuery);\n    });\n  }, [posts, inputValue]);\n\n  return (\n    <div className=\"wrapper\">\n      <h1 className=\"title\">Dynamic list of posts</h1>\n\n      {posts.length > 0 ? (\n        <div className=\"wrapper\">\n          <input\n            type=\"text\"\n            className=\"input\"\n            value={inputValue}\n            onChange={event => steInputValue(event.target.value.toLowerCase())}\n          />\n\n          <PostList posts={foundPosts(inputValue)} />\n        </div>\n      ) : (\n        <button\n          type=\"button\"\n          className=\"button__loading\"\n          onClick={handleLoadClick}\n          disabled={loading}\n        >\n          {loading ? 'Loading...' : 'Load posts'}\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}